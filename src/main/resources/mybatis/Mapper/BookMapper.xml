<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.Mapper.BookMapper">


    <delete id="deleteById" parameterType="int">
    DELETE FROM book WHERE id = #{id}
    </delete>


    <update id="updateById" parameterType="com.example.demo.Entity.Book">
    UPDATE book SET consignee_name = #{consignee_name},consignee_number = #{consignee_number} WHERE id = #{id}
    </update>


<!--    <select id="selectByUser_id" parameterType="int" parameterMap="com.example.demo.Entity.Book">-->
<!--    select consignee_name, consignee_number,group_id from book where user_id = #{user_id}-->
<!--    </select>-->

    <insert id="InsertUser" parameterType="java.util.List" useGeneratedKeys="false">
        INSERT ignore INTO book ( user_id, consignee_name, consignee_number ) VALUES
        <foreach collection="list" item="item"  index="index" separator=",">
            (
            <if test="#{item.user_id}!=null and #{item.user_id}!='' ">#{item.user_id}, </if>
            <if test="#{item.consignee_name}!=null and #{item.consignee_name}!='' ">#{item.consignee_name}, </if>
            <if test="#{item.consignee_number}!=null and #{item.consignee_number}!='' ">#{item.consignee_number}</if>
            )
        </foreach>
    </insert>








    </mapper>